		  OpenRISC Stable GNU Tool Chain Repository
		  =========================================

This directory is where you will find the source trees for the stable versions
of the standard GNU tool chain past and present. The newlib library is
included, since that is required for GCC testing.

Note that the Linux tool chain requires uClibc and Linux, which should be
downloaded using git.

Development source trees are found in the gdb-dev directory.

The structure mirrors that of the Free Software Foundation tool releases.

The scripts use a unified directory which allows the entire newlib tool chain
to be built in a single pass. The script "bld-all.sh" will build a unified
source tree in the a directory (default name "unisrc") and then configure,
build, check and install all the tools for both newlib and uClibc tool chains
using separate build directories (defaults "bd-elf", "bd-elf-gdb", "bd-linux"
and "bd-linux-gdb"). The default install directory is "/opt/or32-elf-new".

Use "./bld-all.sh --help" to check the options available, which includes
options to change all the default directories, omit building newlib and to
control whichphases of the build process (linking, configuring, building,
checking and installing) are run.

By default the tests (which require DejaGnu to be installed) are *not* run.

Note in particular that the script requires a version of Or1ksim built from
SVN (not Or1ksim 0.4.0 release) and that the --or1ksim parameter should be
used to point to the directory where or1ksim is installed (default
/opt/or1ksim-new).

The current version builds GDB separately, because it is not compatible with
the libraries in binutils used in the unified build.

Apple OS X notes:

  * Install required libraries with MacPorts:

Some GNU libraries that are not supplied as standard with Apple's OS X must be
installed. They could be built and installed independently but the author found
the  MacPorts package management system a simple and easy way to install them.

First the MacPorts app must be installed. To install MacPorts follow the
instructions on the  project's page here:  http://www.macports.org

Once MacPorts is installed install the packages "gmp", "mpfr", and "dejagnu" 
with the command:

$ sudo port install gmp mpfr dejagnu

  * Build environment variables:

Once the require libraries are installed, their location must be passed to the 
compiler. The CPPFLAGS, CFLAGS and LFLAGS environment variables are used for
this. The standard place MacPorts places its installed libraries is /opt/local
so if this default location was used export the following flags before running 
the bld-all.sh script:
$ export CPPFLAGS="-I/opt/local/include"
$ export CFLAGS="-L/opt/local/lib"
$ export LDFLAGS="-L/opt/local/lib"

The bld-all.sh script should then be OK to run as described above.

Any questions should be posted on the OpenRISC forum at
opencores.org/forum,OpenRISC, or discussed on IRC at freenode.net, channel
#opencores.


Jeremy Bennett
1 March 2012
